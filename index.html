<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora TDEE</title>
    <!-- Link para o CSS do Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="#">Calculadora TDEE</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Início</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contato</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Sobre</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    
    <div class="container py-5">
        <h2>Calculadora TDEE</h2>
        <form>
            <div class="mb-3">
                <label for="idade" class="form-label">Idade</label>
                <input type="number" class="form-control" id="idade" placeholder="Digite sua idade">
            </div>
            <div class="mb-3">
                <label for="peso" class="form-label">Peso (em kg)</label>
                <input type="number" class="form-control" id="peso" placeholder="Digite seu peso">
            </div>
            <div class="mb-3">
                <label for="altura" class="form-label">Altura (em cm)</label>
                <input type="number" class="form-control" id="altura" placeholder="Digite sua altura">
            </div>
            <div class="mb-3">
                <label for="atividade" class="form-label">Nível de Atividade</label>
                <select class="form-select" id="atividade">
                    <option value="1.2">Sedentário (pouco ou nenhum exercício)</option>
                    <option value="1.375">Levemente ativo (exercício leve/esportes 1-3 dias por semana)</option>
                    <option value="1.55">Moderadamente ativo (exercício moderado/esportes 3-5 dias por semana)</option>
                    <option value="1.725">Muito ativo (exercício pesado/esportes 6-7 dias por semana)</option>
                    <option value="1.9">Extremamente ativo (muito exercício pesado/esportes e trabalho físico ou treino 2x por dia)</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Calcular TDEE</button>
        </form>

        <!--  Mensagens de erro -->
        <div id="mensagem-erro" class="alert-danger d-none"></div>
        
        <!-- RESULTADO TDEE -->
        <div id="resultado-tdee" class="py-2 mt-2"></div>
        
        <!-- RESULTADO IMC -->
        <div id="resultado-imc" class="py-2"></div>
        
    </div>

    <!-- Bootstrap 5 JavaScript Bundle com Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>

        // -- FUNÇÃO DE VALIDAÇÃO
        function verificarCampos() {
            const idade = document.getElementById('idade').value;
            const peso = document.getElementById('peso').value;
            const altura = document.getElementById('altura').value;
            const atividade = document.getElementById('atividade').value;
            const mensagemErro = document.getElementById('mensagem-erro');

            let mensagens = [];

            if (!idade) mensagens.push('Idade');
            if (!peso) mensagens.push('Peso');
            if (!altura) mensagens.push('Altura');
            if (!atividade) mensagens.push('Nível de Atividade');

            if (mensagens.length > 0) {
                mensagemErro.innerHTML = `Por favor, preencha os seguintes campos: ${mensagens.join(', ')}`;
                mensagemErro.classList.remove('d-none');
                return false;
            }

            mensagemErro.innerHTML = ''; // Limpa a mensagem de erro se todos os campos estiverem preenchidos
            mensagemErro.classList.add('d-none');
            return true;
            
        }

        // -- FUNÇÃO PARA CLASSIFICAR O IMC CALCULADO
        function classificarIMC(imc) {
            if (imc < 18.5) {
                return "Abaixo do peso";
            } else if (imc < 24.9) {
                return "Peso normal";
            } else if (imc < 29.9) {
                return "Sobrepeso";
            } else if (imc < 34.9) {
                return "Obesidade grau I";
            } else if (imc < 39.9) {
                return "Obesidade grau II";
            } else {
                return "Obesidade grau III";
            }
        }

        // -- FUNÇÃO PARA CALCULAR O TDEE
        document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Validação
            if (!verificarCampos()) {
                return; // Não prosseguir se algum campo estiver vazio
            }
    
            const idade = parseInt(document.getElementById('idade').value, 10);
            const peso = parseFloat(document.getElementById('peso').value);
            const altura = parseFloat(document.getElementById('altura').value);
            const atividade = parseFloat(document.getElementById('atividade').value);
    
            // A fórmula de Mifflin-St Jeor assume gênero masculino por padrão. Você pode adicionar um campo para o gênero para uma melhor precisão.
            let TMB = 10 * peso + 6.25 * altura - 5 * idade + 5; // Para homens, substitua +5 por -161 para mulheres
    
            // Multiplica a TMB pelo fator de atividade física para obter o TDEE
            let TDEE = TMB * atividade;
    
            // Atualiza a seção de resultados com o TDEE calculado
            document.getElementById('resultado-tdee').innerHTML = `
                <h3>Seu TDEE é: ${TDEE.toFixed(2)} calorias por dia</h3>
                <p>Este é o número estimado de calorias que você precisa consumir para manter o seu peso atual, considerando seu nível de atividade física.</p>
            `;
        });

        // -- FUNÇÃO PARA CALCULAR IMC
        document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Validação
            if (!verificarCampos()) {
                return; // Não prosseguir se algum campo estiver vazio
            }

            const idade = parseInt(document.getElementById('idade').value, 10);
            const peso = parseFloat(document.getElementById('peso').value);
            const alturaCm = parseFloat(document.getElementById('altura').value);
            const atividade = parseFloat(document.getElementById('atividade').value);

            // Calculando TDEE usando a fórmula de Mifflin-St Jeor
            let TMB = 10 * peso + 6.25 * alturaCm - 5 * idade + 5; // Assumindo sexo masculino, substitua +5 por -161 para feminino
            let TDEE = TMB * atividade;

            // Calculando IMC
            const alturaMetros = alturaCm / 100; // Converter altura para metros
            const IMC = peso / (alturaMetros * alturaMetros);
            const classificacaoIMC = classificarIMC(IMC);

            // Mostrar resultados
            document.getElementById('resultado-tdee').innerHTML = `
                <h3>Seu TDEE é: ${TDEE.toFixed(2)} calorias por dia</h3>
                <p>Este é o número estimado de calorias que você precisa consumir para manter o seu peso atual, considerando seu nível de atividade física.</p>
            `;

            document.getElementById('resultado-imc').innerHTML = `
                <h3>Seu IMC é: ${IMC.toFixed(2)}</h3>
                <p>Classificação: ${classificacaoIMC}</p>
                <p>O IMC (Índice de Massa Corporal) é uma medida usada para avaliar se o seu peso está adequado em relação à sua altura.</p>
            `;
        });
    </script>
</body>
</html>
